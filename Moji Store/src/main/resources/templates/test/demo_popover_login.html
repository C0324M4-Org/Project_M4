<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<li class="ms-auto">
    <!-- Đoạn này hiển thị icon hình người, dùng popover để hiển thị các nút đăng nhập, đăng ký hoặc đăng xuất -->
    <div class="user-actions">
        <!-- Icon khi chưa đăng nhập -->
        <i class="bi bi-person-circle" data-bs-toggle="popover" title="Please log in or register"
           data-bs-placement="bottom" data-bs-html="true" data-bs-content="
                            <div class='d-flex justify-content-between'>
                                <a href='/login' class='btn btn-outline-primary'>Login</a>
                                <a href='/register' class='btn btn-outline-primary'>Register</a>
                            </div>">
        </i>

        <!-- Hiển thị tên người dùng và nút đăng xuất khi đã đăng nhập -->
        <div sec:authorize="isAuthenticated()">
                            <span class="d-flex align-items-center ms-2">
                                <i class="bi bi-person-circle"></i> <!-- Icon người -->
                                <span class="ms-2">Xin chào, <span
                                        sec:authentication="principal.username"></span></span>
                                <a th:href="@{/logout}" class="btn btn-outline-primary ms-3">Logout</a>
                            </span>
        </div>
    </div>
</li>

<script>
    // Khởi tạo popover cho tất cả các phần tử có data-bs-toggle="popover"
    const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
    const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl));
</script>
</body>
</html>